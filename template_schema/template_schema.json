{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Universal Template System Metadata Schemas",
  "version": "1.0.0",
  "description": "JSON Schema definitions for template system metadata validation",
  "schemas": {
    "TemplateMetadata": {
      "additionalProperties": true,
      "description": "Base template metadata model\nConservative schema allowing extra fields for gradual migration",
      "properties": {
        "id": {
          "description": "Unique identifier for the template",
          "title": "Id",
          "type": "string"
        },
        "name": {
          "description": "Human-readable template name",
          "title": "Name",
          "type": "string"
        },
        "description": {
          "description": "Template description",
          "title": "Description",
          "type": "string"
        },
        "version": {
          "description": "Semantic version (e.g., '1.0.0')",
          "title": "Version",
          "type": "string"
        },
        "language": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          ],
          "description": "Programming language(s)",
          "title": "Language"
        },
        "tags": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Categorization tags",
          "title": "Tags"
        },
        "authors": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Template authors",
          "title": "Authors"
        },
        "license": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "License identifier",
          "title": "License"
        },
        "example_projects": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Example project references",
          "title": "Example Projects"
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "version",
        "language"
      ],
      "title": "TemplateMetadata",
      "type": "object"
    },
    "BlueprintMetadata": {
      "additionalProperties": true,
      "description": "Blueprint metadata model for product archetype definitions\nBased on existing blueprint.meta.yaml structure",
      "properties": {
        "id": {
          "description": "Unique blueprint identifier",
          "title": "Id",
          "type": "string"
        },
        "name": {
          "description": "Blueprint display name",
          "title": "Name",
          "type": "string"
        },
        "version": {
          "description": "Blueprint version number",
          "title": "Version",
          "type": "integer"
        },
        "category": {
          "description": "Blueprint category",
          "title": "Category",
          "type": "string"
        },
        "description": {
          "description": "Blueprint description",
          "title": "Description",
          "type": "string"
        },
        "type": {
          "description": "Product type (app, pipeline, api, etc.)",
          "title": "Type",
          "type": "string"
        },
        "stacks": {
          "anyOf": [
            {
              "additionalProperties": {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Stack requirements",
          "title": "Stacks"
        },
        "tier_defaults": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default tier settings",
          "title": "Tier Defaults"
        },
        "tasks": {
          "anyOf": [
            {
              "additionalProperties": {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Task requirements",
          "title": "Tasks"
        },
        "constraints": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Blueprint constraints",
          "title": "Constraints"
        },
        "overlays": {
          "anyOf": [
            {
              "additionalProperties": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Stack-specific overlays",
          "title": "Overlays"
        },
        "hooks": {
          "anyOf": [
            {
              "additionalProperties": {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Lifecycle hooks",
          "title": "Hooks"
        },
        "llm": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "LLM generation hints",
          "title": "Llm"
        }
      },
      "required": [
        "id",
        "name",
        "version",
        "category",
        "description",
        "type"
      ],
      "title": "BlueprintMetadata",
      "type": "object"
    },
    "TaskMetadata": {
      "additionalProperties": true,
      "description": "Task metadata model for the 46-task library\nConservative schema based on task-index.yaml structure",
      "properties": {
        "id": {
          "description": "Unique task identifier",
          "title": "Id",
          "type": "string"
        },
        "name": {
          "description": "Task display name",
          "title": "Name",
          "type": "string"
        },
        "description": {
          "description": "Task description",
          "title": "Description",
          "type": "string"
        },
        "category": {
          "description": "Task category",
          "title": "Category",
          "type": "string"
        },
        "languages": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Supported languages",
          "title": "Languages"
        },
        "stacks": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Supported stacks",
          "title": "Stacks"
        },
        "tiers": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Supported tiers",
          "title": "Tiers"
        },
        "dependencies": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Task dependencies",
          "title": "Dependencies"
        },
        "tags": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Categorization tags",
          "title": "Tags"
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "category"
      ],
      "title": "TaskMetadata",
      "type": "object"
    }
  }
}